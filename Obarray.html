

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Object arrays using record arrays &mdash; CookBook 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CookBook 0.1 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="OldMatplotlib.html" />
    <link rel="prev" title="OLS" href="OLS.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="OldMatplotlib.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="OLS.html" title="OLS"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">CookBook 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="object-arrays-using-record-arrays">
<h1>Object arrays using record arrays<a class="headerlink" href="#object-arrays-using-record-arrays" title="Permalink to this headline">Â¶</a></h1>
<p>numpy supports working with arrays of python objects, but these arrays
lack the type-uniformity of normal numpy arrays, so they can be quite
inefficient in terms of space and time, and they can be quite cumbersome
to work with. However, it would often be useful to be able to store a
user-defined class in an array.</p>
<p>One approach is to take advantage of numpy&#8217;s record arrays. These are
arrays in which each element can be large, as it has named and typed
fields; essentially they are numpy&#8217;s equivalent to arrays of C
structures. Thus if one had a class consisting of some data - named
fields, each of a numpy type - and some methods, one could represent the
data for an array of these objects as a record array. Getting the
methods is more tricky.</p>
<p>One approach is to create a custom subclass of the numpy array which
handles conversion to and from your object type. The idea is to store
the data for each instance internally in a record array, but when
indexing returns a scalar, construct a new instance from the data in the
records. Similarly, when assigning to a particular element, the array
subclass would convert an instance to its representation as a record.</p>
<p>Attached is an implementation of the above scheme.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="OLS.html"
                        title="previous chapter">OLS</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="OldMatplotlib.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/Obarray.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="OldMatplotlib.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="OLS.html" title="OLS"
             >previous</a> |</li>
        <li><a href="index.html">CookBook 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Matti Pastell.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>